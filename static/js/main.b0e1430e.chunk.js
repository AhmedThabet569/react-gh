(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{85:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(1),c=n.n(r),s=n(38),o=n.n(s),i=n(4),l=n(14),d=n.n(l),u=n(20),j=n(17),h=n(5),b=n(6),p=n(8),m=n(7),O=n(13),x=function(e){return Object(a.jsxs)("nav",{className:"navbar navbar-dark navbar-expand-lg bg-dark",children:[Object(a.jsx)("a",{className:"navbar-brand",to:"#",children:"Navbar"}),Object(a.jsx)("span",{className:"badge badge-primary",children:e.productsCount}),Object(a.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(a.jsx)("span",{className:"navbar-toggler-icon"})}),Object(a.jsx)("div",{className:"collapse navbar-collapse",id:"navbarNav",children:Object(a.jsxs)("ul",{className:"navbar-nav",children:[Object(a.jsx)("li",{className:"nav-item ",children:Object(a.jsxs)(O.c,{className:"nav-link",to:"/home",children:["Home ",Object(a.jsx)("span",{className:"sr-only",children:"(current)"})]})}),Object(a.jsx)("li",{className:"nav-item",children:Object(a.jsx)(O.c,{className:"nav-link",to:"/menu",children:"Menu"})}),Object(a.jsx)("li",{className:"nav-item",children:Object(a.jsx)(O.c,{className:"nav-link",to:"/cart",children:"Shopping Cart"})}),Object(a.jsx)("li",{className:"nav-item",children:Object(a.jsx)(O.c,{className:"nav-link",to:"/admin",children:"Admin"})}),Object(a.jsx)("li",{className:"nav-item",children:Object(a.jsx)(O.c,{className:"nav-link",to:"/login",children:"Login"})})]})})]})},f=function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(b.a)(n,[{key:"getClasss",value:function(){return 0===this.props.product.count?"badge badge-warning m-3":"badge badge-primary m-3"}},{key:"render",value:function(){var e=this.props,t=e.onIncrement,n=e.onDelete,r=e.product;return Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("div",{className:"col-1",children:Object(a.jsx)("span",{children:Object(a.jsx)(O.b,{to:"/product/".concat(r.id),children:r.name})})}),Object(a.jsxs)("div",{className:"col",children:[Object(a.jsxs)("span",{className:this.getClasss(),children:[r.count," "]}),Object(a.jsx)("button",{onClick:function(){t(r)},className:"btn btn-primary btn-sm mr-3",children:"+"}),Object(a.jsxs)("span",{onClick:function(){return n(r)},children:["  ",Object(a.jsx)("i",{style:{cursor:"pointer"},className:"fas fa-trash m-2"})]})]})]})}}]),n}(r.Component),v=function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(b.a)(n,[{key:"render",value:function(){var e=this;return Object(a.jsxs)(c.a.Fragment,{children:[Object(a.jsx)("h1",{children:"ShoppingCart"}),Object(a.jsx)("button",{onClick:this.props.onReset,className:"btn btn-dark",children:"Reset"}),this.props.products.map((function(t){return Object(a.jsx)(f,{onIncrement:e.props.onIncrement,onDelete:e.props.onDelete,product:t,children:Object(a.jsx)("span",{children:t.id})},t.id)}))]})}}]),n}(r.Component),g=n(2),y=n(16),N=n.n(y),C=function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(h.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={},e}return Object(b.a)(n,[{key:"render",value:function(){return Object(a.jsx)("h1",{children:"Home"})}}]),n}(r.Component),k=n(40),w=n.n(k),S=function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(h.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).handelEdit=function(){console.log("edit"),e.props.history.replace("/cart")},e}return Object(b.a)(n,[{key:"render",value:function(){var e=this;console.log(w.a.parse(this.props.location.search));var t=this.props.products.filter((function(t){return t.id===parseInt(e.props.match.params.id)}))[0];return Object(a.jsxs)(c.a.Fragment,{children:[Object(a.jsxs)("h2",{children:["Details No.",this.props.match.params.id]}),Object(a.jsx)("h2",{children:t.name}),Object(a.jsxs)("h2",{children:["the count of product is ",t.count]}),Object(a.jsx)("button",{onClick:this.handelEdit,className:"btn btn-primary",children:"Save"})]})}}]),n}(r.Component),D=function(){return Object(a.jsx)("h1",{children:"Not Found Page"})},I=function(e){var t=e.product.isInCart?{cursor:"pointer"}:{color:"#80808080",cursor:"pointer"};return Object(a.jsx)("i",{className:"fas fa-cart-plus",style:t,onClick:function(){return e.onClick(e.product)}})},F=function(e){return Object(a.jsxs)(c.a.Fragment,{children:[Object(a.jsx)("h1",{children:"Menu"}),Object(a.jsxs)("table",{className:"table",children:[Object(a.jsx)("thead",{children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{children:"Name"}),Object(a.jsx)("th",{children:"Price"}),Object(a.jsx)("th",{})]})}),Object(a.jsx)("tbody",{children:e.products.map((function(t){return Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:t.name}),Object(a.jsx)("td",{children:t.price}),Object(a.jsx)("td",{children:Object(a.jsx)(I,{onClick:e.onClick,product:t})})]},t.id)}))})]})]})},A=n(41),P=n(22),E=n.n(P),R=function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(h.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={username:"",password:"",errors:{}},e.schema={username:E.a.string().required(),password:E.a.string().required()},e.handelSubmit=function(t){t.preventDefault(),e.handleErrors()||console.log("submitted")},e.handleChange=function(t){var n=Object(i.a)({},e.state);n[t.currentTarget.name]=t.currentTarget.value,e.setState(n)},e.handleErrors=function(){var t={},n=Object(i.a)({},e.state);delete n.errors;var a=E.a.validate(n,e.schema,{abortEarly:!1});if(console.log(a),null===a.error)return e.setState({errors:{}}),null;var r,c=Object(A.a)(a.error.details);try{for(c.s();!(r=c.n()).done;){var s=r.value;t[s.path]=s.message}}catch(o){c.e(o)}finally{c.f()}return e.setState({errors:t}),t},e}return Object(b.a)(n,[{key:"render",value:function(){return Object(a.jsxs)(c.a.Fragment,{children:[Object(a.jsx)("h2",{children:"Login"}),Object(a.jsxs)("form",{onSubmit:this.handelSubmit,children:[Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{htmlFor:"exampleInputEmail1",children:"Email address"}),Object(a.jsx)("input",{value:this.state.username,type:"name",className:"form-control",id:"exampleInputEmail1","aria-describedby":"emailHelp",name:"username",onChange:this.handleChange}),this.state.errors.username&&Object(a.jsx)("div",{className:"alert alert-danger",children:this.state.errors.username})]}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{htmlFor:"exampleInputPassword1",children:"Password"}),Object(a.jsx)("input",{value:this.state.password,type:"password",className:"form-control",id:"exampleInputPassword1",name:"password",onChange:this.handleChange}),this.state.errors.password&&Object(a.jsx)("div",{className:"alert alert-danger",children:this.state.errors.password})]}),Object(a.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Submit"})]})]})}}]),n}(r.Component),T=function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(h.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={},e}return Object(b.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.products,r=t.onDelete;return Object(a.jsxs)(c.a.Fragment,{children:[Object(a.jsx)("h1",{children:"Admin"}),Object(a.jsx)("button",{className:"btn btn-dark",onClick:function(){return e.props.history.push("/addproduct/new")},children:"Add"}),Object(a.jsxs)("table",{className:"table",children:[Object(a.jsx)("thead",{children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{children:"Name"}),Object(a.jsx)("th",{children:"Price"}),Object(a.jsx)("th",{}),Object(a.jsx)("th",{})]})}),Object(a.jsx)("tbody",{children:n.map((function(t){return Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:t.name}),Object(a.jsx)("td",{children:t.price}),Object(a.jsx)("td",{children:Object(a.jsx)("i",{style:{cursor:"pointer"},onClick:function(){return e.props.history.push("/addproduct/".concat(t.id))},className:"fas fa-edit"})}),Object(a.jsx)("td",{children:Object(a.jsx)("i",{style:{cursor:"pointer"},onClick:function(){return r(t)},className:"fas fa-trash"})})]},t.id)}))})]})]})}}]),n}(r.Component),M=function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(h.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={id:"",name:"",price:""},e.handelSubmit=function(){var t=Object(j.a)(d.a.mark((function t(n){var a,r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),"new"!==e.props.match.params.id){t.next=7;break}return a=Object(i.a)(Object(i.a)({},e.state),{},{count:0,isInCart:!1}),t.next=5,N.a.post("http://localhost:3000/products",a);case 5:t.next=11;break;case 7:return delete(r=Object(i.a)(Object(i.a)({},e.state),{},{count:0,isInCart:!1})).id,t.next=11,N.a.put("http://localhost:3000/products/"+e.state.id,r);case 11:e.props.history.replace("/admin");case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleCahnge=function(t){var n=Object(i.a)({},e.state);n[t.currentTarget.name]=t.currentTarget.value,e.setState(n)},e}return Object(b.a)(n,[{key:"componentDidMount",value:function(){var e=Object(j.a)(d.a.mark((function e(){var t,n,a,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("new"===(t=this.props.match.params.id)){e.next=12;break}return e.next=4,N.a.get("http://localhost:3000/products/"+t);case 4:n=e.sent,a=n.data,console.log(a),(r=Object(i.a)({},this.state)).name=a.name,r.price=a.price,r.id=a.id,this.setState(r);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(a.jsxs)(c.a.Fragment,{children:[Object(a.jsxs)("h1",{children:["new"===this.props.match.params.id?"Add":"Update"," Product"]}),Object(a.jsxs)("form",{onSubmit:this.handelSubmit,children:[Object(a.jsxs)("div",{className:"form-gorup",children:[Object(a.jsx)("label",{htmlFor:"name",children:"Name"}),Object(a.jsx)("input",{type:"text",className:"form-control",name:"name",id:"name",value:this.state.name,onChange:this.handleCahnge})]}),Object(a.jsxs)("div",{className:"form-gorup",children:[Object(a.jsx)("label",{htmlFor:"price",children:"Price"}),Object(a.jsx)("input",{type:"text",className:"form-control",name:"price",id:"price",value:this.state.price,onChange:this.handleCahnge})]}),Object(a.jsx)("br",{}),Object(a.jsxs)("button",{type:"submit",className:"btn btn-primary",children:["new"===this.props.match.params.id?"Add":"Update"," Product"]})]})]})}}]),n}(r.Component),q=function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(h.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={products:[]},e.handelDelete=function(){var t=Object(j.a)(d.a.mark((function t(n){var a,r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=Object(u.a)(e.state.products),r=e.state.products.filter((function(e){return e.id!==n.id})),e.setState({products:r}),t.prev=3,t.next=6,N.a.delete("http://localhost:3000/products/"+n.id);case 6:t.next=12;break;case 8:t.prev=8,t.t0=t.catch(3),alert("cannot deleted"),e.setState({products:a});case 12:case"end":return t.stop()}}),t,null,[[3,8]])})));return function(e){return t.apply(this,arguments)}}(),e.handleReset=function(){var t=Object(u.a)(e.state.products);t.map((function(e){return e.count=0,e})),e.setState({Proudcts:t})},e.increaseCount=function(t){var n=Object(u.a)(e.state.products),a=n.indexOf(t);n[a]=Object(i.a)({},n[a]),console.log(n[a]),n[a].count++,e.setState({products:n})},e.handelOnClickCart=function(t){var n=Object(u.a)(e.state.products),a=n.indexOf(t);n[a]=Object(i.a)({},n[a]),n[a].isInCart=!n[a].isInCart,e.setState({products:n})},e}return Object(b.a)(n,[{key:"componentDidMount",value:function(){var e=Object(j.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.get("http://localhost:3000/products");case 2:t=e.sent,n=t.data,this.setState({products:n}),console.log(n);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(a.jsxs)(c.a.Fragment,{children:[Object(a.jsx)(x,{productsCount:this.state.products.filter((function(e){return e.count>0})).length}),Object(a.jsx)("main",{className:"container",children:Object(a.jsxs)(g.d,{children:[Object(a.jsx)(g.b,{path:"/cart",render:function(t){return Object(a.jsx)(v,Object(i.a)({products:e.state.products,onIncrement:e.increaseCount,onDelete:e.handelDelete,onReset:e.handleReset},t))}}),Object(a.jsx)(g.b,{path:"/product/:id",render:function(t){return Object(a.jsx)(S,Object(i.a)({products:e.state.products},t))}}),Object(a.jsx)(g.b,{path:"/menu",render:function(t){return Object(a.jsx)(F,Object(i.a)({products:e.state.products,onClick:e.handelOnClickCart},t))}}),Object(a.jsx)(g.b,{path:"/login",component:R}),Object(a.jsx)(g.b,{path:"/addproduct/:id",component:M}),Object(a.jsx)(g.b,{path:"/admin",render:function(t){return Object(a.jsx)(T,Object(i.a)(Object(i.a)({},t),{},{products:e.state.products,onDelete:e.handelDelete}))}}),Object(a.jsx)(g.b,{path:"/home",exact:!0,component:C}),Object(a.jsx)(g.b,{path:"/not-found",component:D}),Object(a.jsx)(g.a,{from:"/",to:"/home"}),Object(a.jsx)(g.a,{to:"/not-found"})]})})]})}}]),n}(r.Component);n(83),n(84);o.a.render(Object(a.jsxs)(O.a,{children:[" ",Object(a.jsx)(q,{})]}),document.querySelector("#root"))}},[[85,1,2]]]);
//# sourceMappingURL=main.b0e1430e.chunk.js.map